import math
def fre_to_note(fre):
    index = round(math.log(fre / 82.4,2**(1/12)))
    dict = ["E2 ","F2 ","#F2 ","G2 ","#G2 ","A2 ","#A2 ","B2 ","C3 ","#C3 ","D3 ","#D3 ","E3 ","F3 ","#F3 ","G3 ","#G3 ","A3 ","#A3 ","B3 ","C4 ","#C4 ","D4 ","#D4 ","E4 ","F4 ","#F4 ","G4 ","#G4 ","A4 ", "#A4 ", "B4 ", "C5 ", "#C5 ", "D5 ", "#D5 ", "E5 "]
    return dict[index]

def note_to_fre(note):
    dict = {"E2":0,"F2":1,"#F2":2,"G2":3,"#G2":4,"A2":5,"#A2":6,"B2":7,"C3":8,"#C3":9,"D3":10,"#D3":11,"E3":12,"F3":13,"#F3":14,"G3":15,"#G3":16,"A3":17,"#A3":18,"B3":19,"C4":20,"#C4":21,"D4":22,"#D4":23,"E4":24,"F4":25,"#F4":26,"G4":27,"#G4":28,"A4":29, "#A4":30, "B4":31, "C5":32, "#C5":33, "D5":34, "#D5":35, "E5":36}
    return 82.4*(((2**(1/12)))**dict[note])

def fre_to_note_piano(fre):
    index = round(math.log(fre / 27.5,2**(1/12)))
    dict = ["A1 ","#A1 ","B1 ","C2 ","#C2 ","D2 ","#D2 ","E2 ","F2 ","#F2 ","G2 ","#G2 ","A2 ","#A2 ","B2 ","C3 ","#C3 ","D3 ","#D3 ","E3 ","F3 ","#F3 ","G3 ","#G3 ","A3 ","#A3 ","B3 ","C4 ","#C4 ","D4 ","#D4 ","E4 ","F4 ","#F4 ","G4 ","#G4 ","A4 ", "#A4 ", "B4 ", "C5 ", "#C5 ", "D5 ", "#D5 ", "E5 ","F5 ","#F5 ","G5 ","#G5 ","A5 ", "#A5 ", "B5 ", "C6 ", "#C6 ", "D6 ", "#D6 ", "E6 ",
    "F6 ","#F6 ","G6 ","#G6 ","A6 ", "#A6 ", "B6 ", "C7 ", "#C7 ", "D7 ", "#D7 ", "E7 ","F7 ","#F7 ","G7 ","#G7 ","A7 ", "#A7 ", "B7 ", "C8 ","#C8 ","D8 ","#D8 ","E8 ","F8 ","#F8 ","G8 ","#G8 ","A8 ","#A8 ","B8 ","C9"]
    print(dict[40],dict[69])
    return dict[index],index+21

def note_to_fre_piano(note):
    dict = {"E2":0,"F2":1,"#F2":2,"G2":3,"#G2":4,"A2":5,"#A2":6,"B2":7,"C3":8,"#C3":9,"D3":10,"#D3":11,"E3":12,"F3":13,"#F3":14,"G3":15,"#G3":16,"A3":17,"#A3":18,"B3":19,"C4":20,"#C4":21,"D4":22,"#D4":23,"E4":24,"F4":25,"#F4":26,"G4":27,"#G4":28,"A4":29, "#A4":30, "B4":31, "C5":32, "#C5":33, "D5":34, "#D5":35, "E5":36}
    return 82.4*(((2**(1/12)))**dict[note])

# print(round(note_to_fre("A3"),2))
# print(fre_to_note(146.78))
print(fre_to_note_piano(1046)[1])